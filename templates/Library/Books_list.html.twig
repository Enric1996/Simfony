{% extends 'base.html.twig' %}
{% block stylesheets %}
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
{% endblock %}

{% block title %}Book App
{% endblock %}

{% block body %}
	<h1 class="centered"></h1>
	{% if books == null %}
		<h2>No Books found</h2>
	{% else %}
		<main>
			<h2 class="centered">Books</h2>
			<table class="table table-striped">
				<tr>
					<th></th>
					<th>Title</th>
					<th>Author</th>
					<th>Publisher</th>
					<th>Publication data</th>
				</tr>
				{% for book in books %}
					<tr>
						<td>
							<a href="{{ path('app_getBookByIsbn', {isbn: book.isbn})}}">Open Book</a>
						</td>
						<td>{{book.title}}</td>
						<td>{{book.author}}</td>
						<td>
                            {{ attribute(publishers, book.publisher) is defined ?  attribute(publishers, book.publisher).name : 'No publicado' }}
						</td> 
						<td>{{book.pubDate}}</td>
					</tr>
				{% endfor %}
			</table>
		</main>
	{% endif %}
{% endblock %}
